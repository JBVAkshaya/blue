launch:

  # Arguments
  - arg:
      name: gazebo_world_file

  - arg:
      name: gz_ros_bridge_obstacle_file

  # Nodes
  - node:
      pkg: ros_gz_bridge
      exec: parameter_bridge
      args: /clock@rosgraph_msgs/msg/Clock[gz.msgs.Clock

  # Includes
  - include:
      file: $(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py
      arg:
        - name: gz_args
          value: -v 4 -r $(var gazebo_world_file)

  - node:
        pkg: ros_gz_bridge
        exec: parameter_bridge
        output: screen
        param:
          - name: config_file
            value: $(var gz_ros_bridge_obstacle_file)


